### Overview

The actual program trading system agent and model.

### TD-Ameritrade

#### Example Get Option Chain Response

The query,...

```
TDSession.get_options_chain( 
    option_chain = {
        'symbol': 'SLV',
        'contractType': 'CALL',
        'strikeCount': '4',
        'includeQuotes': 'TRUE',
        'strategy': 'SINGLE',
        'strike': '16.50',
        'range': 'ALL',
        'optionType': 'ALL',
        'toDate': '2020-06-05'
    } 
)
```
Where the date this was queried was, 2020-05-26, resulted in,...

```
{'symbol': 'SLV',
 'status': 'SUCCESS',
 'underlying': {'symbol': 'SLV',
  'description': 'iShares Silver Trust',
  'change': -0.09,
  'percentChange': -0.53,
  'close': 16.04,
  'quoteTime': 1590512773143,
  'tradeTime': 1590512759395,
  'bid': 15.95,
  'ask': 15.96,
  'last': 15.95,
  'mark': 15.96,
  'markChange': -0.09,
  'markPercentChange': -0.53,
  'bidSize': 107000,
  'askSize': 100000,
  'highPrice': 16.28,
  'lowPrice': 15.92,
  'openPrice': 16.28,
  'totalVolume': 22639940,
  'exchangeName': 'PAC',
  'fiftyTwoWeekHigh': 18.35,
  'fiftyTwoWeekLow': 10.86,
  'delayed': False},
 'strategy': 'SINGLE',
 'interval': 0.0,
 'isDelayed': False,
 'isIndex': False,
 'interestRate': 0.11,
 'underlyingPrice': 15.955,
 'volatility': 29.0,
 'daysToExpiration': 0.0,
 'numberOfContracts': 8,
 'putExpDateMap': {},
 'callExpDateMap': {'2020-05-29:3': {'15.0': [{'putCall': 'CALL',
     'symbol': 'SLV_052920C15',
     'description': 'SLV May 29 2020 15 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.97,
     'ask': 0.99,
     'last': 0.98,
     'mark': 0.98,
     'bidSize': 23,
     'askSize': 323,
     'bidAskSize': '23X323',
     'lastSize': 0,
     'highPrice': 1.3,
     'lowPrice': 0.97,
     'openPrice': 0.0,
     'closePrice': 1.05,
     'totalVolume': 670,
     'tradeDate': None,
     'tradeTimeInLong': 1590512438597,
     'quoteTimeInLong': 1590512769805,
     'netChange': -0.07,
     'volatility': 42.058,
     'delta': 0.923,
     'gamma': 0.206,
     'theta': -0.013,
     'vega': 0.002,
     'rho': 0.002,
     'openInterest': 11909,
     'timeValue': 0.03,
     'theoreticalOptionValue': 0.98,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 15.0,
     'expirationDate': 1590782400000,
     'daysToExpiration': 3,
     'expirationType': 'S',
     'lastTradingDay': 1590796800000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -6.59,
     'markChange': -0.07,
     'markPercentChange': -6.59,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': True}],
   '15.5': [{'putCall': 'CALL',
     'symbol': 'SLV_052920C15.5',
     'description': 'SLV May 29 2020 15.5 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.5,
     'ask': 0.53,
     'last': 0.5,
     'mark': 0.52,
     'bidSize': 377,
     'askSize': 296,
     'bidAskSize': '377X296',
     'lastSize': 0,
     'highPrice': 0.81,
     'lowPrice': 0.5,
     'openPrice': 0.0,
     'closePrice': 0.6,
     'totalVolume': 565,
     'tradeDate': None,
     'tradeTimeInLong': 1590512744485,
     'quoteTimeInLong': 1590512774710,
     'netChange': -0.1,
     'volatility': 32.742,
     'delta': 0.806,
     'gamma': 0.503,
     'theta': -0.019,
     'vega': 0.005,
     'rho': 0.001,
     'openInterest': 7801,
     'timeValue': 0.05,
     'theoreticalOptionValue': 0.515,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 15.5,
     'expirationDate': 1590782400000,
     'daysToExpiration': 3,
     'expirationType': 'S',
     'lastTradingDay': 1590796800000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -17.0,
     'markChange': -0.09,
     'markPercentChange': -14.51,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': True}],
   '16.0': [{'putCall': 'CALL',
     'symbol': 'SLV_052920C16',
     'description': 'SLV May 29 2020 16 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.19,
     'ask': 0.2,
     'last': 0.18,
     'mark': 0.2,
     'bidSize': 34,
     'askSize': 1036,
     'bidAskSize': '34X1036',
     'lastSize': 0,
     'highPrice': 0.38,
     'lowPrice': 0.18,
     'openPrice': 0.0,
     'closePrice': 0.26,
     'totalVolume': 2994,
     'tradeDate': None,
     'tradeTimeInLong': 1590512458334,
     'quoteTimeInLong': 1590512765821,
     'netChange': -0.08,
     'volatility': 32.483,
     'delta': 0.474,
     'gamma': 0.734,
     'theta': -0.027,
     'vega': 0.007,
     'rho': 0.001,
     'openInterest': 9054,
     'timeValue': 0.18,
     'theoreticalOptionValue': 0.195,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 16.0,
     'expirationDate': 1590782400000,
     'daysToExpiration': 3,
     'expirationType': 'S',
     'lastTradingDay': 1590796800000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -30.77,
     'markChange': -0.06,
     'markPercentChange': -25.0,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': False}],
   '16.5': [{'putCall': 'CALL',
     'symbol': 'SLV_052920C16.5',
     'description': 'SLV May 29 2020 16.5 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.06,
     'ask': 0.07,
     'last': 0.07,
     'mark': 0.07,
     'bidSize': 70,
     'askSize': 4052,
     'bidAskSize': '70X4052',
     'lastSize': 0,
     'highPrice': 0.16,
     'lowPrice': 0.05,
     'openPrice': 0.0,
     'closePrice': 0.1,
     'totalVolume': 4002,
     'tradeDate': None,
     'tradeTimeInLong': 1590512438597,
     'quoteTimeInLong': 1590512700549,
     'netChange': -0.04,
     'volatility': 36.573,
     'delta': 0.195,
     'gamma': 0.452,
     'theta': -0.021,
     'vega': 0.005,
     'rho': 0.0,
     'openInterest': 31173,
     'timeValue': 0.07,
     'theoreticalOptionValue': 0.065,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 16.5,
     'expirationDate': 1590782400000,
     'daysToExpiration': 3,
     'expirationType': 'S',
     'lastTradingDay': 1590796800000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -33.33,
     'markChange': -0.04,
     'markPercentChange': -38.1,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': False}]},
  '2020-06-05:10': {'15.0': [{'putCall': 'CALL',
     'symbol': 'SLV_060520C15',
     'description': 'SLV Jun 5 2020 15 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 1.01,
     'ask': 1.04,
     'last': 1.06,
     'mark': 1.02,
     'bidSize': 215,
     'askSize': 302,
     'bidAskSize': '215X302',
     'lastSize': 0,
     'highPrice': 1.2,
     'lowPrice': 1.02,
     'openPrice': 0.0,
     'closePrice': 1.11,
     'totalVolume': 55,
     'tradeDate': None,
     'tradeTimeInLong': 1590509356167,
     'quoteTimeInLong': 1590512773879,
     'netChange': -0.05,
     'volatility': 33.998,
     'delta': 0.859,
     'gamma': 0.237,
     'theta': -0.01,
     'vega': 0.006,
     'rho': 0.004,
     'openInterest': 1642,
     'timeValue': 0.1,
     'theoreticalOptionValue': 1.025,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 15.0,
     'expirationDate': 1591387200000,
     'daysToExpiration': 10,
     'expirationType': 'S',
     'lastTradingDay': 1591401600000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -4.38,
     'markChange': -0.08,
     'markPercentChange': -7.53,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': True}],
   '15.5': [{'putCall': 'CALL',
     'symbol': 'SLV_060520C15.5',
     'description': 'SLV Jun 5 2020 15.5 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.61,
     'ask': 0.63,
     'last': 0.62,
     'mark': 0.62,
     'bidSize': 71,
     'askSize': 150,
     'bidAskSize': '71X150',
     'lastSize': 0,
     'highPrice': 0.79,
     'lowPrice': 0.62,
     'openPrice': 0.0,
     'closePrice': 0.71,
     'totalVolume': 117,
     'tradeDate': None,
     'tradeTimeInLong': 1590512722443,
     'quoteTimeInLong': 1590512765821,
     'netChange': -0.09,
     'volatility': 31.74,
     'delta': 0.71,
     'gamma': 0.389,
     'theta': -0.014,
     'vega': 0.009,
     'rho': 0.003,
     'openInterest': 2193,
     'timeValue': 0.17,
     'theoreticalOptionValue': 0.62,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 15.5,
     'expirationDate': 1591387200000,
     'daysToExpiration': 10,
     'expirationType': 'S',
     'lastTradingDay': 1591401600000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -13.04,
     'markChange': -0.09,
     'markPercentChange': -13.04,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': True}],
   '16.0': [{'putCall': 'CALL',
     'symbol': 'SLV_060520C16',
     'description': 'SLV Jun 5 2020 16 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.32,
     'ask': 0.34,
     'last': 0.32,
     'mark': 0.33,
     'bidSize': 1036,
     'askSize': 565,
     'bidAskSize': '1036X565',
     'lastSize': 0,
     'highPrice': 0.51,
     'lowPrice': 0.32,
     'openPrice': 0.0,
     'closePrice': 0.42,
     'totalVolume': 2190,
     'tradeDate': None,
     'tradeTimeInLong': 1590512444067,
     'quoteTimeInLong': 1590512770437,
     'netChange': -0.1,
     'volatility': 31.807,
     'delta': 0.491,
     'gamma': 0.453,
     'theta': -0.016,
     'vega': 0.011,
     'rho': 0.002,
     'openInterest': 7586,
     'timeValue': 0.32,
     'theoreticalOptionValue': 0.33,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 16.0,
     'expirationDate': 1591387200000,
     'daysToExpiration': 10,
     'expirationType': 'S',
     'lastTradingDay': 1591401600000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -23.37,
     'markChange': -0.09,
     'markPercentChange': -20.98,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': False}],
   '16.5': [{'putCall': 'CALL',
     'symbol': 'SLV_060520C16.5',
     'description': 'SLV Jun 5 2020 16.5 Call (Weekly)',
     'exchangeName': 'OPR',
     'bid': 0.16,
     'ask': 0.18,
     'last': 0.16,
     'mark': 0.17,
     'bidSize': 2239,
     'askSize': 1636,
     'bidAskSize': '2239X1636',
     'lastSize': 0,
     'highPrice': 0.29,
     'lowPrice': 0.16,
     'openPrice': 0.0,
     'closePrice': 0.24,
     'totalVolume': 5430,
     'tradeDate': None,
     'tradeTimeInLong': 1590512658944,
     'quoteTimeInLong': 1590512767094,
     'netChange': -0.08,
     'volatility': 34.019,
     'delta': 0.295,
     'gamma': 0.366,
     'theta': -0.015,
     'vega': 0.01,
     'rho': 0.001,
     'openInterest': 9463,
     'timeValue': 0.16,
     'theoreticalOptionValue': 0.17,
     'theoreticalVolatility': 29.0,
     'optionDeliverablesList': None,
     'strikePrice': 16.5,
     'expirationDate': 1591387200000,
     'daysToExpiration': 10,
     'expirationType': 'S',
     'lastTradingDay': 1591401600000,
     'multiplier': 100.0,
     'settlementType': ' ',
     'deliverableNote': '',
     'isIndexOption': None,
     'percentChange': -33.33,
     'markChange': -0.07,
     'markPercentChange': -29.17,
     'nonStandard': False,
     'mini': False,
     'inTheMoney': False}]}}}
```

#### Example Get Account Response

The query,...

```
TDSession.get_accounts( 
    AccountId, 
    fields=['positions','orders'] 
)
```

Resulted in,...

```
{'securitiesAccount': {'type': 'MARGIN',
  'accountId': '870008897',
  'roundTrips': 0,
  'isDayTrader': False,
  'isClosingOnlyRestricted': False,
  'positions': [{'shortQuantity': 0.0,
    'averagePrice': 0.0,
    'currentDayProfitLoss': 69.03,
    'currentDayProfitLossPercentage': 0.0,
    'longQuantity': 900.0,
    'settledLongQuantity': 900.0,
    'settledShortQuantity': 0.0,
    'instrument': {'assetType': 'EQUITY',
     'cusip': '85525T202',
     'symbol': 'SHVLF'},
    'marketValue': 69.03},
   {'shortQuantity': 0.0,
    'averagePrice': 16.225,
    'currentDayProfitLoss': -26.83,
    'currentDayProfitLossPercentage': -0.02,
    'longQuantity': 100.0,
    'settledLongQuantity': 100.0,
    'settledShortQuantity': 0.0,
    'instrument': {'assetType': 'EQUITY',
     'cusip': '46428Q109',
     'symbol': 'SLV'},
    'marketValue': 1595.67},
   {'shortQuantity': 1.0,
    'averagePrice': 0.33,
    'currentDayProfitLoss': 0.0,
    'currentDayProfitLossPercentage': 0.0,
    'longQuantity': 0.0,
    'settledLongQuantity': 0.0,
    'settledShortQuantity': 0.0,
    'instrument': {'assetType': 'OPTION',
     'cusip': '0SLV..F500016000',
     'symbol': 'SLV_060520C16',
     'description': 'SLV 100 (Weeklys) 5 JUN 20 16 CALL',
     'putCall': 'CALL',
     'underlyingSymbol': 'SLV'},
    'marketValue': -33.0},
   {'shortQuantity': 0.0,
    'averagePrice': 1.0,
    'currentDayProfitLoss': 0.0,
    'currentDayProfitLossPercentage': 0.0,
    'longQuantity': 9992.6,
    'settledLongQuantity': 9992.6,
    'settledShortQuantity': 0.0,
    'instrument': {'assetType': 'CASH_EQUIVALENT',
     'cusip': '9ZZZFD104',
     'symbol': 'MMDA1',
     'description': 'FDIC INSURED DEPOSIT ACCOUNT  CORE  NOT COVERED BY SIPC',
     'type': 'MONEY_MARKET_FUND'},
    'marketValue': 9992.6}],
  'orderStrategies': [{'session': 'NORMAL',
    'duration': 'DAY',
    'orderType': 'LIMIT',
    'complexOrderStrategyType': 'NONE',
    'quantity': 1.0,
    'filledQuantity': 1.0,
    'remainingQuantity': 0.0,
    'requestedDestination': 'AUTO',
    'destinationLinkName': 'AutoRoute',
    'price': 0.33,
    'orderLegCollection': [{'orderLegType': 'OPTION',
      'legId': 1,
      'instrument': {'assetType': 'OPTION',
       'cusip': '0SLV..F500016000',
       'symbol': 'SLV_060520C16',
       'description': 'SLV 100 (Weeklys) 5 JUN 20 16 CALL',
       'putCall': 'CALL',
       'underlyingSymbol': 'SLV'},
      'instruction': 'SELL_TO_OPEN',
      'positionEffect': 'OPENING',
      'quantity': 1.0}],
    'orderStrategyType': 'SINGLE',
    'orderId': 2855878865,
    'cancelable': False,
    'editable': False,
    'status': 'FILLED',
    'enteredTime': '2020-05-26T16:58:22+0000',
    'closeTime': '2020-05-26T16:58:22+0000',
    'accountId': 870008897,
    'orderActivityCollection': [{'activityType': 'EXECUTION',
      'executionType': 'FILL',
      'quantity': 1.0,
      'orderRemainingQuantity': 0.0,
      'executionLegs': [{'legId': 1,
        'quantity': 1.0,
        'mismarkedQuantity': 0.0,
        'price': 0.33,
        'time': '2020-05-26T16:58:22+0000'}]}]}],
  'initialBalances': {'accruedInterest': 0.07,
   'availableFundsNonMarginableTrade': 11115.47,
   'bondValue': 0.0,
   'buyingPower': 22550.5,
   'cashBalance': 0.0,
   'cashAvailableForTrading': 0.0,
   'cashReceipts': 0.0,
   'dayTradingBuyingPower': 0.0,
   'dayTradingBuyingPowerCall': 0.0,
   'dayTradingEquityCall': 0.0,
   'equity': 11596.67,
   'equityPercentage': 11596.67,
   'liquidationValue': 11665.63,
   'longMarginValue': 0.0,
   'longOptionMarketValue': 0.0,
   'longStockValue': 1673.03,
   'maintenanceCall': 0.0,
   'maintenanceRequirement': 481.2,
   'margin': 0.0,
   'marginEquity': 0.0,
   'moneyMarketFund': 9992.67,
   'mutualFundValue': 0.0,
   'regTCall': 0.0,
   'shortMarginValue': 0.0,
   'shortOptionMarketValue': 0.0,
   'shortStockValue': 0.0,
   'totalCash': 9992.67,
   'isInCall': False,
   'pendingDeposits': 0.0,
   'marginBalance': 0.0,
   'shortBalance': 0.0,
   'accountValue': 11665.7},
  'currentBalances': {'accruedInterest': 0.07,
   'cashBalance': 32.32,
   'cashReceipts': 0.0,
   'longOptionMarketValue': 0.0,
   'liquidationValue': 11656.62,
   'longMarketValue': 1664.7,
   'moneyMarketFund': 9992.6,
   'savings': 0.0,
   'shortMarketValue': -0.0,
   'pendingDeposits': 0.0,
   'availableFunds': 0.0,
   'availableFundsNonMarginableTrade': 11141.89,
   'buyingPower': 22615.0,
   'buyingPowerNonMarginableTrade': 11141.89,
   'dayTradingBuyingPower': 0.0,
   'equity': 11620.59,
   'equityPercentage': 100.0,
   'longMarginValue': 1595.67,
   'maintenanceCall': 0.0,
   'maintenanceRequirement': 478.7,
   'marginBalance': 0.0,
   'regTCall': 0.0,
   'shortBalance': 0.0,
   'shortMarginValue': 0.0,
   'shortOptionMarketValue': -33.0,
   'sma': 11307.5,
   'bondValue': 0.0},
  'projectedBalances': {'availableFunds': 11141.89,
   'availableFundsNonMarginableTrade': 11141.89,
   'buyingPower': 22615.0,
   'dayTradingBuyingPower': 0.0,
   'dayTradingBuyingPowerCall': 0.0,
   'maintenanceCall': 0.0,
   'regTCall': 0.0,
   'isInCall': False,
   'stockBuyingPower': 22615.0}}}
```